<?xml version="1.0" encoding="utf-8" ?>
<!--
  Copyright 2021 StÃ©phane Mangin <stephane.mangin@freesbee.fr>
  License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
-->
<odoo>
    <record id="view_res_country_borough_search" model="ir.ui.view">
        <field name="name">res.country.borough.search</field>
        <field name="model">res.country.borough</field>
        <field name="arch" type="xml">
            <search string="Boroughs">
                <field
                    name="name"
                    string="Name or Code"
                    filter_domain="['|', ('name', 'ilike', self), ('code', 'ilike', self)]"
                />
                <field name="state_id" />
                <field name="country_id" />
                <field name="city_ids" />
                <group string="Group By" name="groupby">
                    <filter
                        name="state_groupby"
                        string="State"
                        context="{'group_by': 'state_id'}"
                    />
                    <filter
                        name="groupby"
                        string="Country"
                        context="{'group_by': 'id'}"
                    />
                </group>
            </search>
        </field>
    </record>
    <record id="view_res_country_borough_tree" model="ir.ui.view">
        <field name="name">res.country.borough.tree</field>
        <field name="model">res.country.borough</field>
        <field name="arch" type="xml">
            <tree string="Boroughs">
                <field name="name" />
                <field name="code" />
                <field name="city_ids" />
                <field name="state_id" />
                <field name="country_id" />
            </tree>
        </field>
    </record>
    <record id="view_res_country_borough_form" model="ir.ui.view">
        <field name="name">res.country.borough.form</field>
        <field name="model">res.country.borough</field>
        <field name="arch" type="xml">
            <form string="Boroughs">
                <group name="main">
                    <field name="name" />
                    <field name="code" />
                </group>
                <group name="related">
                    <field name="state_id" />
                    <field name="country_id" />
                    <field name="city_ids" widget="many2many_tags" />
                </group>
            </form>
        </field>
    </record>

    <record id="action_res_country_borough_tree" model="ir.actions.act_window">
        <field name="name">Boroughs</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.country.borough</field>
        <field name="view_mode">tree</field>
        <field name="help">
            Display and manage the list of all cities that can be assigned to
            your partner records. Note that an option can be set on each country separately
            to enforce any address of it to have a borough in this list.
        </field>
    </record>

    <menuitem
        id="menu_res_country_borough"
        parent="contacts.menu_localisation"
        action="action_res_country_borough_tree"
        sequence="3"
    />

</odoo>

